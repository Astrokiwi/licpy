
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>LicPy &#8212; LicPy 0.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="licpy">
<h1>LicPy<a class="headerlink" href="#licpy" title="Permalink to this headline">¶</a></h1>
<p>There are a number of techniques to image vector fields. The most common one, known as hedgehog, is to draw an arrow at each point with a heading and a size matching the direction and magnitude of the vector field at that particular point (e.g. <code class="docutils literal notranslate"><span class="pre">quiver</span></code> in Matplotlib). Recently Cabral and Leedom <a class="reference internal" href="#cabral1993" id="id1">[CL93]</a> proposed a new method to image vector fields called <em>line integral convolution</em> (LIC). LicPy is our implementation in Python of the LIC method.</p>
<p>The method requires one to take a random noisy background texture, and for each pixel of the texture, streamlines of equal length are computed along the input vector field. One then integrates the background pixel values along each streamline to produce a single pixel value and a corresponding output texture. The output looks like a blurred version of the input, where the blurring is along the direction of the vector field that is being visualized, and is easy for the human eye to interpret.</p>
<p>After generating the random texture, one needs to ensure that the input vector field and the random texture are of the same size, i.e. for each texture pixel there must be a single corresponding vector field value. If that is not the case, for example, if the vector field is sampled less densely, one can easily interpolate in a piecewise linear fashion to compute a value per texture pixel. Then, given a point (marked with x in Figure 1) one computes a stream-line going through that point both in the forward (as on the figure) and backward directions.</p>
<a class="reference internal image-reference" href="_images/lic.png"><img alt="_images/lic.png" src="_images/lic.png" style="width: 320.0px; height: 320.0px;" /></a>
<p><strong>Figure 1:</strong> Streamline.</p>
<p>This is easy to do since the vector field is piecewise constant within each pixel, so the streamlines are straight line segments within each pixel. Computing them is merely a matter of figuring out where the straight line intersects the rectangular boundaries of the pixel. Once the streamlines are computed, the random background texture colors are averaged over their length, resulting in a new color for each pixel.</p>
<p>The output image produced in this fashion is more intuitive to the human eye to interpret because it looks like the smearing of ink along a moving fluid. Figure 2 illustrates a number of vector fields that are visualized using both quiver plots (QVR) and LIC plots. Notice how the LIC plots remain well-behaved even in the presence of singularities near which the quiver plots are hard to parse.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" rowspan="2">QVR</th>
<th class="head" rowspan="2">LIC</th>
</tr>
<tr class="row-even"></tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td><img alt="F00.arr" src="_images/diag.arr.png" /></td>
<td><img alt="F00.lic" src="_images/diag.lic.png" /></td>
</tr>
<tr class="row-even"><td><img alt="F01.arr" src="_images/jetx_funnel.arr.png" /></td>
<td><img alt="F01.lic" src="_images/jetx_funnel.lic.png" /></td>
</tr>
<tr class="row-odd"><td><img alt="F02.arr" src="_images/spiral.arr.png" /></td>
<td><img alt="F02.lic" src="_images/spiral.lic.png" /></td>
</tr>
<tr class="row-even"><td><img alt="F03.arr" src="_images/periodic_rot.arr.png" /></td>
<td><img alt="F03.lic" src="_images/periodic_rot.lic.png" /></td>
</tr>
<tr class="row-odd"><td><img alt="F04.arr" src="_images/vortices.arr.png" /></td>
<td><img alt="F04.lic" src="_images/vortices.lic.png" /></td>
</tr>
<tr class="row-even"><td><img alt="F05.arr" src="_images/vortices_anti.arr.png" /></td>
<td><img alt="F05.lic" src="_images/vortices_anti.lic.png" /></td>
</tr>
</tbody>
</table>
<p><strong>Figure 2:</strong> Comparison of quiver plots generated using Matplotlib (QVR) with line integral convolution plots generated by LicPy (LIC).</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To understand how the LicPy library is to be used, one can take a look at the <code class="xref py py-mod docutils literal notranslate"><span class="pre">licpy.command.vf</span></code> module, and the <code class="xref py py-func docutils literal notranslate"><span class="pre">lic()</span></code> function in particular. The important code snippet is</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">licpy.lic</span> <span class="kn">import</span> <span class="n">runlic</span>
<span class="n">tex</span> <span class="o">=</span> <span class="n">runlic</span><span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span>
<span class="n">grey_save</span><span class="p">(</span><span class="n">dest</span><span class="p">,</span> <span class="n">tex</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">runclic()</span></code> function does most of the heavy-lifting. It takes as arguments the x- and y-component of the velocity at each pixel position, and the lenght L of the stream along with to convolute, and the result is returned as a grey-scale texture, which can then be saved into an image file using the <code class="xref py py-func docutils literal notranslate"><span class="pre">grey_save()</span></code> function.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p id="bibtex-bibliography-index-0"><table class="docutils citation" frame="void" id="cabral1993" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[CL93]</a></td><td>Brian Cabral and Leith&nbsp;Casey Leedom. Imaging vector fields using line integral convolution. In <em>Proceedings of the 20th annual conference on Computer graphics and interactive techniques</em>, 263–270. ACM, 1993.</td></tr>
</tbody>
</table>
</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">LicPy</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Dzhelil Rufat.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>